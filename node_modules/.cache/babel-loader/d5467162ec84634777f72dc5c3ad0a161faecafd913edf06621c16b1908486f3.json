{"ast":null,"code":"import React,{useEffect,useState}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import HomePage from'./pages/HomePage';import Login from'./pages/Login';import Register from'./pages/Register';import Profile from'./pages/Profile';import Navbar from'./components/Navbar';import Footer from'./components/Footer';import ProductList from'./pages/ProductList';import ProductDetail from'./pages/ProductDetail';import Cart from'./pages/Cart';import Wishlist from'./pages/Wishlist';import CategoryPage from'./pages/CategoryPage';import Checkout from'./pages/Checkout';import OrderHistory from'./pages/OrderHistory';import Admin from'./pages/Admin';import BlogBlock from'./components/BlogBlock';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(null);const[cart,setCart]=useState([]);// Load user and cart from localStorage on initial load\nuseEffect(()=>{const storedUser=localStorage.getItem(\"currentUser\");const storedCart=localStorage.getItem(\"cart\");if(storedUser){setUser(JSON.parse(storedUser));}if(storedCart){setCart(JSON.parse(storedCart));}},[]);const handleSetUser=u=>{setUser(u);localStorage.setItem(\"currentUser\",JSON.stringify(u));};const handleLogout=()=>{setUser(null);localStorage.removeItem(\"currentUser\");};const handleAddToCart=product=>{const updatedCart=[...cart];const existingItem=updatedCart.find(item=>item.id===product.id);if(existingItem){existingItem.quantity+=1;}else{updatedCart.push({...product,quantity:1});}setCart(updatedCart);localStorage.setItem(\"cart\",JSON.stringify(updatedCart));};const handleRemoveFromCart=productId=>{const updatedCart=cart.filter(item=>item.id!==productId);setCart(updatedCart);localStorage.setItem(\"cart\",JSON.stringify(updatedCart));};const handleUpdateQuantity=(productId,quantity)=>{const updatedCart=cart.map(item=>{if(item.id===productId){return{...item,quantity:Math.max(0,quantity)};}return item;}).filter(item=>item.quantity>0);setCart(updatedCart);localStorage.setItem(\"cart\",JSON.stringify(updatedCart));};return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Navbar,{user:user,onLogout:handleLogout,cartCount:cart.length}),/*#__PURE__*/_jsx(\"div\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{setUser:handleSetUser})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:user?/*#__PURE__*/_jsx(Profile,{user:user}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/products\",element:/*#__PURE__*/_jsx(ProductList,{})}),/*#__PURE__*/_jsx(Route,{path:\"/products/:id\",element:/*#__PURE__*/_jsx(ProductDetail,{onAddToCart:handleAddToCart})}),/*#__PURE__*/_jsx(Route,{path:\"/category/:category\",element:/*#__PURE__*/_jsx(CategoryPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(Cart,{cart:cart,onRemoveFromCart:handleRemoveFromCart,onUpdateQuantity:handleUpdateQuantity})}),/*#__PURE__*/_jsx(Route,{path:\"/wishlist\",element:user?/*#__PURE__*/_jsx(Wishlist,{user:user}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/checkout\",element:user?/*#__PURE__*/_jsx(Checkout,{cart:cart}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/orders\",element:user?/*#__PURE__*/_jsx(OrderHistory,{user:user}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:user!==null&&user!==void 0&&user.isAdmin?/*#__PURE__*/_jsx(Admin,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})})]})}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Router","Routes","Route","Navigate","HomePage","Login","Register","Profile","Navbar","Footer","ProductList","ProductDetail","Cart","Wishlist","CategoryPage","Checkout","OrderHistory","Admin","BlogBlock","jsx","_jsx","jsxs","_jsxs","App","user","setUser","cart","setCart","storedUser","localStorage","getItem","storedCart","JSON","parse","handleSetUser","u","setItem","stringify","handleLogout","removeItem","handleAddToCart","product","updatedCart","existingItem","find","item","id","quantity","push","handleRemoveFromCart","productId","filter","handleUpdateQuantity","map","Math","max","children","onLogout","cartCount","length","className","path","element","to","onAddToCart","onRemoveFromCart","onUpdateQuantity","isAdmin"],"sources":["C:/Users/PC/Desktop/ADSco/src/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport HomePage from './pages/HomePage';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Profile from './pages/Profile';\nimport Navbar from './components/Navbar';\nimport Footer from './components/Footer';\nimport ProductList from './pages/ProductList';\nimport ProductDetail from './pages/ProductDetail';\nimport Cart from './pages/Cart';\nimport Wishlist from './pages/Wishlist';\nimport CategoryPage from './pages/CategoryPage';\nimport Checkout from './pages/Checkout';\nimport OrderHistory from './pages/OrderHistory';\nimport Admin from './pages/Admin';\nimport BlogBlock from './components/BlogBlock';\nimport './App.css';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [cart, setCart] = useState([]);\n\n  // Load user and cart from localStorage on initial load\n  useEffect(() => {\n    const storedUser = localStorage.getItem(\"currentUser\");\n    const storedCart = localStorage.getItem(\"cart\");\n    if (storedUser) {\n      setUser(JSON.parse(storedUser));\n    }\n    if (storedCart) {\n      setCart(JSON.parse(storedCart));\n    }\n  }, []);\n\n  const handleSetUser = (u) => {\n    setUser(u);\n    localStorage.setItem(\"currentUser\", JSON.stringify(u));\n  };\n\n  const handleLogout = () => {\n    setUser(null);\n    localStorage.removeItem(\"currentUser\");\n  };\n\n  const handleAddToCart = (product) => {\n    const updatedCart = [...cart];\n    const existingItem = updatedCart.find(item => item.id === product.id);\n    \n    if (existingItem) {\n      existingItem.quantity += 1;\n    } else {\n      updatedCart.push({ ...product, quantity: 1 });\n    }\n    \n    setCart(updatedCart);\n    localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n  };\n\n  const handleRemoveFromCart = (productId) => {\n    const updatedCart = cart.filter(item => item.id !== productId);\n    setCart(updatedCart);\n    localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n  };\n\n  const handleUpdateQuantity = (productId, quantity) => {\n    const updatedCart = cart.map(item => {\n      if (item.id === productId) {\n        return { ...item, quantity: Math.max(0, quantity) };\n      }\n      return item;\n    }).filter(item => item.quantity > 0);\n    \n    setCart(updatedCart);\n    localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n  };\n\n  return (\n    <Router>\n      <Navbar user={user} onLogout={handleLogout} cartCount={cart.length} />\n      <div className=\"main-content\">\n        <Routes>\n          <Route path=\"/\" element={<HomePage />} />\n          <Route path=\"/login\" element={<Login setUser={handleSetUser} />} />\n          <Route path=\"/register\" element={<Register />} />\n          <Route path=\"/profile\" element={user ? <Profile user={user} /> : <Navigate to=\"/login\" />} />\n          <Route path=\"/products\" element={<ProductList />} />\n          <Route path=\"/products/:id\" element={<ProductDetail onAddToCart={handleAddToCart} />} />\n          <Route path=\"/category/:category\" element={<CategoryPage />} />\n          <Route path=\"/cart\" element={\n            <Cart \n              cart={cart} \n              onRemoveFromCart={handleRemoveFromCart}\n              onUpdateQuantity={handleUpdateQuantity}\n            />\n          } />\n          <Route path=\"/wishlist\" element={user ? <Wishlist user={user} /> : <Navigate to=\"/login\" />} />\n          <Route path=\"/checkout\" element={user ? <Checkout cart={cart} /> : <Navigate to=\"/login\" />} />\n          <Route path=\"/orders\" element={user ? <OrderHistory user={user} /> : <Navigate to=\"/login\" />} />\n          <Route path=\"/admin\" element={user?.isAdmin ? <Admin /> : <Navigate to=\"/\" />} />\n        </Routes>\n      </div>\n      <Footer />\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CACnF,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,KAAK,KAAM,eAAe,CACjC,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,OAAO,KAAM,iBAAiB,CACrC,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,WAAW,KAAM,qBAAqB,CAC7C,MAAO,CAAAC,aAAa,KAAM,uBAAuB,CACjD,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,YAAY,KAAM,sBAAsB,CAC/C,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,YAAY,KAAM,sBAAsB,CAC/C,MAAO,CAAAC,KAAK,KAAM,eAAe,CACjC,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnB,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAG3B,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAAC4B,IAAI,CAAEC,OAAO,CAAC,CAAG7B,QAAQ,CAAC,EAAE,CAAC,CAEpC;AACAD,SAAS,CAAC,IAAM,CACd,KAAM,CAAA+B,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CACtD,KAAM,CAAAC,UAAU,CAAGF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAC/C,GAAIF,UAAU,CAAE,CACdH,OAAO,CAACO,IAAI,CAACC,KAAK,CAACL,UAAU,CAAC,CAAC,CACjC,CACA,GAAIG,UAAU,CAAE,CACdJ,OAAO,CAACK,IAAI,CAACC,KAAK,CAACF,UAAU,CAAC,CAAC,CACjC,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,aAAa,CAAIC,CAAC,EAAK,CAC3BV,OAAO,CAACU,CAAC,CAAC,CACVN,YAAY,CAACO,OAAO,CAAC,aAAa,CAAEJ,IAAI,CAACK,SAAS,CAACF,CAAC,CAAC,CAAC,CACxD,CAAC,CAED,KAAM,CAAAG,YAAY,CAAGA,CAAA,GAAM,CACzBb,OAAO,CAAC,IAAI,CAAC,CACbI,YAAY,CAACU,UAAU,CAAC,aAAa,CAAC,CACxC,CAAC,CAED,KAAM,CAAAC,eAAe,CAAIC,OAAO,EAAK,CACnC,KAAM,CAAAC,WAAW,CAAG,CAAC,GAAGhB,IAAI,CAAC,CAC7B,KAAM,CAAAiB,YAAY,CAAGD,WAAW,CAACE,IAAI,CAACC,IAAI,EAAIA,IAAI,CAACC,EAAE,GAAKL,OAAO,CAACK,EAAE,CAAC,CAErE,GAAIH,YAAY,CAAE,CAChBA,YAAY,CAACI,QAAQ,EAAI,CAAC,CAC5B,CAAC,IAAM,CACLL,WAAW,CAACM,IAAI,CAAC,CAAE,GAAGP,OAAO,CAAEM,QAAQ,CAAE,CAAE,CAAC,CAAC,CAC/C,CAEApB,OAAO,CAACe,WAAW,CAAC,CACpBb,YAAY,CAACO,OAAO,CAAC,MAAM,CAAEJ,IAAI,CAACK,SAAS,CAACK,WAAW,CAAC,CAAC,CAC3D,CAAC,CAED,KAAM,CAAAO,oBAAoB,CAAIC,SAAS,EAAK,CAC1C,KAAM,CAAAR,WAAW,CAAGhB,IAAI,CAACyB,MAAM,CAACN,IAAI,EAAIA,IAAI,CAACC,EAAE,GAAKI,SAAS,CAAC,CAC9DvB,OAAO,CAACe,WAAW,CAAC,CACpBb,YAAY,CAACO,OAAO,CAAC,MAAM,CAAEJ,IAAI,CAACK,SAAS,CAACK,WAAW,CAAC,CAAC,CAC3D,CAAC,CAED,KAAM,CAAAU,oBAAoB,CAAGA,CAACF,SAAS,CAAEH,QAAQ,GAAK,CACpD,KAAM,CAAAL,WAAW,CAAGhB,IAAI,CAAC2B,GAAG,CAACR,IAAI,EAAI,CACnC,GAAIA,IAAI,CAACC,EAAE,GAAKI,SAAS,CAAE,CACzB,MAAO,CAAE,GAAGL,IAAI,CAAEE,QAAQ,CAAEO,IAAI,CAACC,GAAG,CAAC,CAAC,CAAER,QAAQ,CAAE,CAAC,CACrD,CACA,MAAO,CAAAF,IAAI,CACb,CAAC,CAAC,CAACM,MAAM,CAACN,IAAI,EAAIA,IAAI,CAACE,QAAQ,CAAG,CAAC,CAAC,CAEpCpB,OAAO,CAACe,WAAW,CAAC,CACpBb,YAAY,CAACO,OAAO,CAAC,MAAM,CAAEJ,IAAI,CAACK,SAAS,CAACK,WAAW,CAAC,CAAC,CAC3D,CAAC,CAED,mBACEpB,KAAA,CAACtB,MAAM,EAAAwD,QAAA,eACLpC,IAAA,CAACZ,MAAM,EAACgB,IAAI,CAAEA,IAAK,CAACiC,QAAQ,CAAEnB,YAAa,CAACoB,SAAS,CAAEhC,IAAI,CAACiC,MAAO,CAAE,CAAC,cACtEvC,IAAA,QAAKwC,SAAS,CAAC,cAAc,CAAAJ,QAAA,cAC3BlC,KAAA,CAACrB,MAAM,EAAAuD,QAAA,eACLpC,IAAA,CAAClB,KAAK,EAAC2D,IAAI,CAAC,GAAG,CAACC,OAAO,cAAE1C,IAAA,CAAChB,QAAQ,GAAE,CAAE,CAAE,CAAC,cACzCgB,IAAA,CAAClB,KAAK,EAAC2D,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAE1C,IAAA,CAACf,KAAK,EAACoB,OAAO,CAAES,aAAc,CAAE,CAAE,CAAE,CAAC,cACnEd,IAAA,CAAClB,KAAK,EAAC2D,IAAI,CAAC,WAAW,CAACC,OAAO,cAAE1C,IAAA,CAACd,QAAQ,GAAE,CAAE,CAAE,CAAC,cACjDc,IAAA,CAAClB,KAAK,EAAC2D,IAAI,CAAC,UAAU,CAACC,OAAO,CAAEtC,IAAI,cAAGJ,IAAA,CAACb,OAAO,EAACiB,IAAI,CAAEA,IAAK,CAAE,CAAC,cAAGJ,IAAA,CAACjB,QAAQ,EAAC4D,EAAE,CAAC,QAAQ,CAAE,CAAE,CAAE,CAAC,cAC7F3C,IAAA,CAAClB,KAAK,EAAC2D,IAAI,CAAC,WAAW,CAACC,OAAO,cAAE1C,IAAA,CAACV,WAAW,GAAE,CAAE,CAAE,CAAC,cACpDU,IAAA,CAAClB,KAAK,EAAC2D,IAAI,CAAC,eAAe,CAACC,OAAO,cAAE1C,IAAA,CAACT,aAAa,EAACqD,WAAW,CAAExB,eAAgB,CAAE,CAAE,CAAE,CAAC,cACxFpB,IAAA,CAAClB,KAAK,EAAC2D,IAAI,CAAC,qBAAqB,CAACC,OAAO,cAAE1C,IAAA,CAACN,YAAY,GAAE,CAAE,CAAE,CAAC,cAC/DM,IAAA,CAAClB,KAAK,EAAC2D,IAAI,CAAC,OAAO,CAACC,OAAO,cACzB1C,IAAA,CAACR,IAAI,EACHc,IAAI,CAAEA,IAAK,CACXuC,gBAAgB,CAAEhB,oBAAqB,CACvCiB,gBAAgB,CAAEd,oBAAqB,CACxC,CACF,CAAE,CAAC,cACJhC,IAAA,CAAClB,KAAK,EAAC2D,IAAI,CAAC,WAAW,CAACC,OAAO,CAAEtC,IAAI,cAAGJ,IAAA,CAACP,QAAQ,EAACW,IAAI,CAAEA,IAAK,CAAE,CAAC,cAAGJ,IAAA,CAACjB,QAAQ,EAAC4D,EAAE,CAAC,QAAQ,CAAE,CAAE,CAAE,CAAC,cAC/F3C,IAAA,CAAClB,KAAK,EAAC2D,IAAI,CAAC,WAAW,CAACC,OAAO,CAAEtC,IAAI,cAAGJ,IAAA,CAACL,QAAQ,EAACW,IAAI,CAAEA,IAAK,CAAE,CAAC,cAAGN,IAAA,CAACjB,QAAQ,EAAC4D,EAAE,CAAC,QAAQ,CAAE,CAAE,CAAE,CAAC,cAC/F3C,IAAA,CAAClB,KAAK,EAAC2D,IAAI,CAAC,SAAS,CAACC,OAAO,CAAEtC,IAAI,cAAGJ,IAAA,CAACJ,YAAY,EAACQ,IAAI,CAAEA,IAAK,CAAE,CAAC,cAAGJ,IAAA,CAACjB,QAAQ,EAAC4D,EAAE,CAAC,QAAQ,CAAE,CAAE,CAAE,CAAC,cACjG3C,IAAA,CAAClB,KAAK,EAAC2D,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAEtC,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAE2C,OAAO,cAAG/C,IAAA,CAACH,KAAK,GAAE,CAAC,cAAGG,IAAA,CAACjB,QAAQ,EAAC4D,EAAE,CAAC,GAAG,CAAE,CAAE,CAAE,CAAC,EAC3E,CAAC,CACN,CAAC,cACN3C,IAAA,CAACX,MAAM,GAAE,CAAC,EACJ,CAAC,CAEb,CAEA,cAAe,CAAAc,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}